(window.webpackJsonp=window.webpackJsonp||[]).push([[90],{400:function(t,e,r){var content=r(597);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(21).default)("852676ac",content,!0,{sourceMap:!1})},596:function(t,e,r){"use strict";var o=r(400);r.n(o).a},597:function(t,e,r){(t.exports=r(20)(!1)).push([t.i,"div[data-v-5b82acc6]{font-family:ElliotSans-Medium}.profile-edit[data-v-5b82acc6]{min-height:560px;border-radius:12px;box-shadow:0 4px 8px rgba(0,0,0,.5);margin-bottom:24px;padding-bottom:10px}h2[data-v-5b82acc6]{font-family:ElliotSans-Bold}.title-konten[data-v-5b82acc6]{padding:30px 30px 0;font-weight:700;color:#1e9cd7}",""])},677:function(t,e,r){"use strict";r.r(e);r(31),r(14);var o=r(42),n={name:"UpdateProfile",data:function(){return{user:null,uid:null,token:null,photo:"",Form:{},email:"",provinces:[],cities:[],districts:[],dataTahun:[],dataBulan:[],dataTanggal:[],intMonth:null,modalLoading:!1,modalSubmit:!1,responseSuccess:!1}},beforeCreate:function(){var t=this;o.a.auth().onAuthStateChanged((function(e){e?(t.email=e.email,t.user=e.displayName,t.Form.user=t.user,t.photo=e.photoURL,t.uid=e.uid,e.getIdToken(!0).then((function(e){t.token=e,t._actionGetProfile(t.uid)})).catch((function(t){console.log(t)}))):t.$router.push("/login")}))},methods:{_actionGetProfile:function(t){var e=this;this.$axios.get("https://api.edutore.com/api/v1/profile/".concat(t),{headers:{"x-access-token":this.token}}).then((function(t){var r=t.data;"true"===t.data.success&&(e.Form=r.data,null===e.Form&&(e.Form={}),console.log(e.Form),e._actionGetProvince(e.Form.province_id),e._actionGetDistrict(e.Form.city_id),e._actionGetTglMoment())})).catch((function(t){console.log(t.response)}))},_actionGetProvince:function(t){var e=this;this.$axios.get("https://api.edutore.com/api/v1/province").then((function(r){var o=r.data;"true"===r.data.success&&(e.provinces=o.data.rows,e._actionGetCity(t))})).catch((function(t){console.log(t.response)}))},_actionGetCity:function(t){var e=this;this.$axios.get("https://api.edutore.com/api/v1/city/"+t).then((function(t){var r=t.data;"true"===t.data.success&&(e.cities=r.data.rows)})).catch((function(t){console.log(t.response)}))},_actionGetDistrict:function(t){var e=this;this.$axios.get("https://api.edutore.com/api/v1/district/"+t).then((function(t){var r=t.data;"true"===t.data.success&&(e.districts=r.data.rows)})).catch((function(t){console.log(t.response)}))},_onChangeProv:function(t){var e=parseInt(t.target.value),r=t.target.options[t.target.options.selectedIndex].text;this.Form.province_id=e,this.Form.province.name=r},_onChangeCity:function(t){var e=parseInt(t.target.value),r=t.target.options[t.target.options.selectedIndex].text;this.Form.city_id=e,this.Form.city.name=r,this._actionGetDistrict(this.Form.city_id)},_onChangeDistrict:function(t){var e=parseInt(t.target.value),r=t.target.options[t.target.options.selectedIndex].text;this.Form.district_id=e,this.Form.district.name=r},_actionGetTglMoment:function(){var t,e,i,r,o,n;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:for(t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],31,e=(new Date).getFullYear(),i=0;i<31;i++)this.dataTahun.push(e--);for(r=0;r<12;r++)o=new Date(e,r).getMonth(),n=t[o],this.dataBulan.push(n);return l.next=7,regeneratorRuntime.awrap(this._actionGetDate());case 7:case"end":return l.stop()}}),null,this)},_actionGetDate:function(){var t=this.Form.tahun_lahir,e=this.Form.bulan_lahir;this.dataTanggal=[],this.intMonth="Januari"===e?1:"Februari"===e?2:"Maret"===e?3:"April"===e?4:"Mei"===e?5:"Juni"===e?6:"Juli"===e?7:"Agustus"===e?8:"September"===e?9:"Oktober"===e?10:"November"===e?11:12;for(var r=new Date(t,this.intMonth,0).getDate(),o=1;o<=r;o++)this.dataTanggal.push(o)},_onChangeYear:function(t){this.Form.tahun_lahir=parseInt(t.target.value),this.Form.tanggal_lahir=1,this._actionGetDate()},_onChangeMonth:function(t){this.Form.bulan_lahir=t.target.value,this._actionGetDate()},_actionUpdate:function(){var t=this;this.modalLoading=!0;var data=this.Form;console.log(data),this.$axios.post("https://api.edutore.com/api/v1/profile",data,{headers:{"x-access-token":this.token}}).then((function(e){"true"===e.data.success&&(t.modalSubmit=!0,t.responseSuccess=!0,setTimeout((function(){t.modalSubmit=!1,t.modalLoading=!1}),2e3))})).catch((function(e){console.log(e),t.modalSubmit=!0,setTimeout((function(){t.modalSubmit=!1,t.modalLoading=!1}),1500)}))}}},l=(r(596),r(19)),component=Object(l.a)(n,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("div",{staticClass:"row"},[t._m(0),t._v(" "),o("div",{staticClass:"col-md-3"},[o("div",{staticClass:"text-center"},[t.photo?o("img",{staticClass:"m-x-auto img-fluid rounded-circle mb-1",staticStyle:{width:"70%"},attrs:{src:t.photo,alt:"avatar"}}):o("img",{staticClass:"m-x-auto img-fluid rounded-circle mb-1",staticStyle:{width:"70%"},attrs:{src:r(313),alt:"avatar"}}),t._v(" "),t._m(1)])]),t._v(" "),o("div",{staticClass:"col-md-9",staticStyle:{"border-left":"1px solid #e2e2e2"}},[o("ValidationObserver",{ref:"form"},[o("form",{on:{submit:function(e){return e.preventDefault(),t._actionUpdate(e)}}},[o("ValidationProvider",{attrs:{name:"Email",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"email"}},[t._v("Email")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{id:"email",type:"text",disabled:""},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Nama",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"nama"}},[t._v("Nama Lengkap")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.user,expression:"Form.user"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{id:"nama",type:"text"},domProps:{value:t.Form.user},on:{input:function(e){e.target.composing||t.$set(t.Form,"user",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Jenis Kelamin",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"jenis_kelamin"}},[t._v("Jenis Kelamin")]),t._v(" "),o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.jenis_kelamin,expression:"Form.jenis_kelamin"}],class:{"req-validate":r.length>0,"form-control":!0},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"jenis_kelamin",e.target.multiple?r:r[0])}}},[o("option",{attrs:{value:""}},[t._v("\n                  Pilih Jenis Kelamin\n                ")]),t._v(" "),o("option",{attrs:{value:"LAKI-LAKI"}},[t._v("\n                  LAKI-LAKI\n                ")]),t._v(" "),o("option",{attrs:{value:"PEREMPUAN"}},[t._v("\n                  PEREMPUAN\n                ")])]),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Alamat",rules:"min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"address"}},[t._v("Alamat")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.address,expression:"Form.address"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{id:"address",type:"text"},domProps:{value:t.Form.address},on:{input:function(e){e.target.composing||t.$set(t.Form,"address",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-md-6"},[o("label",{attrs:{for:"provinsi"}},[t._v("Provinsi")]),t._v(" "),o("ValidationProvider",{attrs:{name:"Provinsi",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.province_id,expression:"Form.province_id"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{name:"provinsi"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"province_id",e.target.multiple?r:r[0])},function(e){return t._onChangeProv(e)}],click:function(e){return t._actionGetProvince(t.Form.province_id)}}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Provinsi\n                  ")]),t._v(" "),t._l(t.provinces,(function(e){return o("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}))],2),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("div",{staticClass:"col-md-6"},[o("label",{staticClass:"mt-2 mt-md-0 mt-lg-0",attrs:{for:"kota"}},[t._v("Kota")]),t._v(" "),o("ValidationProvider",{attrs:{name:"Kota",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.city_id,expression:"Form.city_id"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{name:"city"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"city_id",e.target.multiple?r:r[0])},function(e){return t._onChangeCity(e)}]}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Kota\n                  ")]),t._v(" "),t._l(t.cities,(function(e){return o("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}))],2),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-md-9"},[o("label",{attrs:{for:"wilayah"}},[t._v("Wilayah")]),t._v(" "),o("ValidationProvider",{attrs:{name:"Wilayah",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.district_id,expression:"Form.district_id"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{name:"region"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"district_id",e.target.multiple?r:r[0])},function(e){return t._onChangeDistrict(e)}]}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Wilayah\n                  ")]),t._v(" "),t._l(t.districts,(function(e){return o("option",{key:e.id,domProps:{value:e.id}},[t._v("\n                    "+t._s(e.name)+"\n                  ")])}))],2),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("div",{staticClass:"col-md-3"},[o("label",{staticClass:"mt-2 mt-md-0 mt-lg-0",attrs:{for:"kode_pos"}},[t._v("Kode Pos")]),t._v(" "),o("ValidationProvider",{attrs:{name:"Zipcode",rules:""},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.zip_code,expression:"Form.zip_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Kode Pos"},domProps:{value:t.Form.zip_code},on:{input:function(e){e.target.composing||t.$set(t.Form,"zip_code",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1)]),t._v(" "),o("div",{staticClass:"form-group row"},[o("div",{staticClass:"col-md-12"},[o("label",{attrs:{for:"tempat_tgl-lahir"}},[t._v("Tempat & Tanggal Lahir")])]),t._v(" "),o("div",{staticClass:"col-md-4"},[o("ValidationProvider",{attrs:{name:"Tahun",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.tahun_lahir,expression:"Form.tahun_lahir"}],class:{"req-validate":r.length>0,"form-control":!0,"mb-2 mb-md-0 mb-lg-0":!0},attrs:{name:"year"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"tahun_lahir",e.target.multiple?r:r[0])},function(e){return t._onChangeYear(e)}]}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Tahun\n                  ")]),t._v(" "),t._l(t.dataTahun,(function(e,r){return o("option",{key:r,domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                  ")])}))],2)]}}])})],1),t._v(" "),o("div",{staticClass:"col-md-5"},[o("ValidationProvider",{attrs:{name:"Bulan",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.bulan_lahir,expression:"Form.bulan_lahir"}],class:{"req-validate":r.length>0,"form-control":!0,"mb-2 mb-md-0 mb-lg-0":!0},attrs:{name:"month"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"bulan_lahir",e.target.multiple?r:r[0])},function(e){return t._onChangeMonth(e)}]}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Bulan\n                  ")]),t._v(" "),t._l(t.dataBulan,(function(e,r){return o("option",{key:r,domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                  ")])}))],2),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1),t._v(" "),o("div",{staticClass:"col-md-3"},[o("ValidationProvider",{attrs:{name:"Tanggal",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("select",{directives:[{name:"model",rawName:"v-model",value:t.Form.tanggal_lahir,expression:"Form.tanggal_lahir"}],class:{"req-validate":r.length>0,"form-control":!0},attrs:{name:"date"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.Form,"tanggal_lahir",e.target.multiple?r:r[0])}}},[o("option",{attrs:{value:""}},[t._v("\n                    Pilih Tanggal\n                  ")]),t._v(" "),t._l(t.dataTanggal,(function(e,r){return o("option",{key:r,domProps:{value:e}},[t._v("\n                    "+t._s(e)+"\n                  ")])}))],2),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])]}}])})],1)]),t._v(" "),o("ValidationProvider",{attrs:{name:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"status"}},[t._v("Status")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.status,expression:"Form.status"}],staticClass:"form-control",class:{"req-validate":r.length>0,"form-control":!0},attrs:{type:"text",placeholder:"Pelajar, Umum, etc."},domProps:{value:t.Form.status},on:{input:function(e){e.target.composing||t.$set(t.Form,"status",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Kelas"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"kelas"}},[t._v("Kelas")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.kelas,expression:"Form.kelas"}],staticClass:"form-control",class:{"req-validate":r.length>0,"form-control":!0},attrs:{type:"text",value:"Jane",placeholder:"1,2,3...9,10,11"},domProps:{value:t.Form.kelas},on:{input:function(e){e.target.composing||t.$set(t.Form,"kelas",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Nama Sekolah",rules:"min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{for:"nama_sekolah"}},[t._v("Nama Sekolah")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.nama_sekolah,expression:"Form.nama_sekolah"}],staticClass:"form-control",class:{"req-validate":r.length>0,"form-control":!0},attrs:{type:"text",placeholder:""},domProps:{value:t.Form.nama_sekolah},on:{input:function(e){e.target.composing||t.$set(t.Form,"nama_sekolah",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("ValidationProvider",{attrs:{name:"Nama Orang Tua",rules:"min:3"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors;return[o("div",{staticClass:"form-group"},[o("label",{attrs:{label:"nama_ortu"}},[t._v("Nama Orang Tua")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.Form.nama_orangtua,expression:"Form.nama_orangtua"}],staticClass:"form-control",attrs:{type:"text",value:"Jane",placeholder:""},domProps:{value:t.Form.nama_orangtua},on:{input:function(e){e.target.composing||t.$set(t.Form,"nama_orangtua",e.target.value)}}}),t._v(" "),o("span",{staticClass:"merah"},[t._v(t._s(r[0]))])])]}}])}),t._v(" "),o("div",{staticClass:"form-group row text-center"},[o("div",{staticClass:"col-md-12"},[o("button",{staticClass:"btn btn-primary btn-block"},[t._v("\n                Simpan\n              ")])])])],1)]),t._v(" "),o("b-modal",{attrs:{size:"md",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default"},model:{value:t.modalLoading,callback:function(e){t.modalLoading=e},expression:"modalLoading"}},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-12 text-center"},[o("div",{staticClass:"text-center"},[o("img",{staticClass:"img-fluid",staticStyle:{width:"100px"},attrs:{src:r(313),alt:"~/assets/img/edu-wink.gif"}})]),t._v(" "),o("h3",{staticClass:"text-center"},[t._v("\n              Loading ...\n            ")])])])]),t._v(" "),o("b-modal",{attrs:{size:"md",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default"},model:{value:t.modalSubmit,callback:function(e){t.modalSubmit=e},expression:"modalSubmit"}},[o("div",{staticClass:"row justify-content-center"},[!0===t.responseSuccess?o("div",{staticClass:"col-md-12 text-center"},[o("i",{staticClass:"fa fa-check-circle",staticStyle:{"font-size":"120px",color:"#5cb85c"}}),t._v(" "),o("h3",{staticClass:"text-center"},[t._v("\n              Berhasil Menyimpan!\n            ")])]):o("div",{staticClass:"col-md-12 text-center"},[o("i",{staticClass:"fa fa-times-circle",staticStyle:{"font-size":"120px",color:"#d9534f"}}),t._v(" "),o("h3",{staticClass:"text-center"},[t._v("\n              Gagal Update Profile!\n            ")])])])])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-12"},[e("h2",{staticClass:"title-konten text-center"},[this._v("\n        Edit Profile\n      ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"form-group"},[e("label",{staticClass:"custom-file"},[e("input",{staticClass:"custom-file-input",attrs:{type:"file",hidden:""}}),this._v(" "),e("h6",[this._v("Upload a different photo")]),this._v(" "),e("br"),this._v(" "),e("span",{staticClass:"custom-file-control"},[this._v("Choose file")])])])}],!1,null,"5b82acc6",null);e.default=component.exports}}]);