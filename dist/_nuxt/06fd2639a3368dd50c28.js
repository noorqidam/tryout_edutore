(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{313:function(t,e,o){t.exports=o.p+"img/1b0cfe0.gif"},316:function(t,e){},345:function(t,e,o){var content=o(479);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,o(21).default)("01e005da",content,!0,{sourceMap:!1})},478:function(t,e,o){"use strict";var n=o(345);o.n(n).a},479:function(t,e,o){(t.exports=o(20)(!1)).push([t.i,"#timmers[data-v-2de402e2]{font-size:40px}h2[data-v-2de402e2],p[data-v-2de402e2]{color:#000}.brand[data-v-2de402e2]{height:40px;width:auto}.bd-links[data-v-2de402e2]{padding-top:1px;padding-bottom:1rem;margin-right:-15px;margin-left:-15px}.flex-container[data-v-2de402e2]{padding:0;margin:auto;list-style:none;display:-webkit-box;display:-webkit-flex;float:left;display:flex;justify-content:space-around}.flex-item[data-v-2de402e2]{background-color:grey;padding:5px;width:40px;height:40px;margin-top:10px;margin-left:1px;margin-right:1px;line-height:30px;color:#fff;font-weight:700;font-size:20px;text-align:center;cursor:pointer}.item_active[data-v-2de402e2]{background:#557cbe}.img-fluid[data-v-2de402e2]{max-width:30%}.img-fluid[data-v-2de402e2],.img-fluidphoto[data-v-2de402e2]{height:auto}.bg-blues[data-v-2de402e2]{background-color:#fff;border-bottom:1px solid #bbb}",""])},646:function(t,e,o){"use strict";o.r(e);o(31),o(14);var n=o(8),r=o(119),l=o.n(r),c=o(315),d=o.n(c),h=o(42);n.default.use(l.a);var m={name:"StartQuizRealtime",layout:function(t){return"defaults"},data:function(){return{answer:[],quiz:{},realtimeAnswer:[],jawabans:[],soals:[],showSoal:!1,quiz_id:null,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",timer:0,User:null,photo:null,message:null,countDown:null,max:0,nilai:{},showNilai:!1,showgreet:!1,maxCountdown:4,loadingjawab:!1,modalShow:!1,point:0}},mounted:function(){var t=this;history.pushState(null,null,location.href),window.onpopstate=function(){t._actionModalOut(),history.go(1)};var e=this.$route.query.quiz_id;this.quiz_id=this.$route.query.quiz_id,this._actionGetQuizQuestion(),this._actionShowNilai(),this._actionGetInfoQuiz(e)},beforeCreate:function(){var t=this;h.a.auth().onAuthStateChanged((function(e){e?(t.User=e.displayName,t.photo=e.photoURL,e.getIdToken(!0).then((function(e){t.token=e,t._actionGetReltimePoint()}))):t.$router.push({path:"/login",query:{quiz_id:t.$route.query._id,quiz:t.$route.query.name}})}))},methods:{randomValue:function(){this.timer-=1},_actionGetInfoQuiz:function(t){var e=this;this.$axios.get("all-quiz/"+t,{headers:{"x-access-token":this.token}}).then((function(t){var o=t.data;"true"===t.data.success&&(e.quiz=o.data,e.max=e.quiz.durasi_soal)})).catch((function(t){console.log(t)}))},_actionGetQuizQuestion:function(){d()("https://api-tryout.edutore.com",{transports:["websocket","polling"]}).on("show_question",function(data){data&&(clearInterval(this.countDown),this._actionShowSoal(data))}.bind(this))},_actionShowNilai:function(){d()("https://api-tryout.edutore.com",{transports:["websocket","polling"]}).on("show_nilai",function(data){data&&this.$router.push({path:"/start-quiz/nilai",query:{quiz_id:this.quiz_id}})}.bind(this))},_actionShowSoal:function(data){var t=this;console.log("listen .."+JSON.stringify(data)),this.showgreet=!0,console.log("greet .."+!0);var e=setInterval((function(){t.maxCountdown--,0===t.maxCountdown&&(t.showSoal=!0,t.soals=[],t.soals.push(data),t._actionDecrest(),clearInterval(e),t.maxCountdown=4)}),1e3)},_actionDecrest:function(){var t=this;this.timer=this.max,this.countDown=setInterval((function(){t.timer-=1,t.timer<0&&(clearInterval(t.countDown),t.showSoal=!1,t.soals=[],t.showgreet=!1),console.log("timer in function d "+t.timer)}),1e3)},_functionStop:function(){console.log("delete interval"),clearInterval(this.countDown),this.showgreet=!1},_actionRemoveSoal:function(){this.showSoal=!1,this.soals=[]},_actionAnswer:function(t,e){var data,o=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return data={soal_id:t,jawaban_id:e},this.loadingjawab=!0,n.next=4,regeneratorRuntime.awrap(this.$axios.post("jawab-quiz-realtime-soal/"+this.quiz_id,data,{headers:{"x-access-token":this.token}}).then((function(t){o._functionStop(),o.showSoal=!1,o.soals=[],o._actionGetReltimePoint(),o.$notify({group:"info",type:"success",title:"Berhasil Menjawab"}),o.showgreet=!1,o.loadingjawab=!1})).catch((function(t){o.loadingjawab=!1,o.message=t.response.data,o.$notify({group:"info",type:"error",title:JSON.stringify(t.response.data.message)}),o.showgreet=!1,o._functionStop(),o.showSoal=!1,o.soals=[],o._actionGetReltimePoint()})));case 4:case"end":return n.stop()}}),null,this)},_actionGetReltimePoint:function(){var data,t=this;return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return data={quiz_id:this.quiz_id},e.next=3,regeneratorRuntime.awrap(this.$axios.post("realtime-quiz-point",data,{headers:{"x-access-token":this.token}}).then((function(e){t.point=e.data.data})));case 3:case"end":return e.stop()}}),null,this)},_actionModalOut:function(){this.modalShow=!0},_actionLogout:function(){this.$router.push({path:"/"}),this.modalShow=!1}}},f=(o(478),o(19)),component=Object(f.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-modal",{attrs:{size:"md",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"col-md-12 justify-content-center"},[n("h3",{staticClass:"text-center"},[t._v("\n          Apakah anda yakin mau keluar dari tes ?\n        ")])]),t._v(" "),n("div",{staticClass:"row"},[n("div",{staticClass:"col md-6"},[n("button",{staticClass:"btn btn-warning btn-lg btn-block",staticStyle:{width:"120px"},on:{click:function(e){t.modalShow=!1}}},[t._v("\n            Tidak\n          ")])]),t._v(" "),n("div",{staticClass:"col md-6"},[n("button",{staticClass:"btn btn-primary btn-lg btn-block",staticStyle:{width:"120px"},on:{click:t._actionLogout}},[t._v("\n            Ya\n          ")])])])])]),t._v(" "),n("div",{staticClass:"row"},[n("b-modal",{attrs:{size:"sm",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default",title:"Megirim Jawaban"},model:{value:t.loadingjawab,callback:function(e){t.loadingjawab=e},expression:"loadingjawab"}},[n("h2",{staticClass:"h5 text-center"},[t._v("\n        Mengirim Jawaban\n      ")]),t._v(" "),n("div",{staticClass:"row justify-content-center"},[n("div",{staticClass:"d-flex justify-content-center"},[n("b-img",{attrs:{src:o(313),thumbnail:"",fluidphoto:"",alt:"Image 1"}})],1)]),t._v(" "),n("p",{staticClass:"text-center mt-2"},[t._v("\n        Loading...\n      ")])])],1),t._v(" "),n("notifications",{attrs:{group:"info",position:"center center"}}),t._v(" "),n("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-blues is-desktop fixed-top"},[n("div",{staticClass:"align-items-end"},[n("a",{staticClass:"navbar-brand",on:{click:t._actionModalOut}},[n("img",{staticClass:"img-fluid",attrs:{src:o(57),alt:"~/assets/img/edutore.png"}})]),t._v(" "),n("b-navbar-toggle",{attrs:{target:"nav-collapse"}})],1)]),t._v(" "),n("div",{staticClass:"container-fluid mt-5 pt-3"},[n("div",{staticClass:"row flex-xl-nowrap2"},[n("div",{staticClass:"bd-sidebar border-bottom-0 col-md-3 col-xl-2 col-12"},[n("nav",{staticClass:"bd-links d-none d-md-block text-center",attrs:{id:"bd-docs-nav","aria-label":"Main navigation"}},[n("div",{staticClass:"mt-1 pt-1"},[n("div",{staticStyle:{width:"70%",height:"auto","margin-left":"auto","margin-right":"auto"}},[t.photo?n("b-img",{attrs:{src:t.photo,"img-fluidphoto":"",thumbnail:"",alt:"Image 1"}}):n("b-img",{attrs:{src:o(313),"img-fluidphoto":"",thumbnail:"",alt:"Image 1"}})],1)]),t._v(" "),n("div",{attrs:{target:"_self"}},[n("label",{staticClass:"text-center bd-toc-link",attrs:{target:"_self"}},[t._v(t._s(t.User))])])]),t._v(" "),t._m(0),t._v(" "),n("h2",{staticClass:"text-center",staticStyle:{"font-size":"10em"},attrs:{for:"skor"}},[t._v("\n          "+t._s(t.point)+"\n        ")])]),t._v(" "),n("div",{staticClass:"bd-content col-md-9 col-xl-8 col-12 pb-md-3"},[n("div",{staticClass:"clearfix d-block"}),t._v(" "),n("main",{staticClass:"bd-main pt-2"},[t.showSoal?n("b-progress",{attrs:{max:t.max,height:"1rem"}},[n("b-progress-bar",{attrs:{value:t.timer}},[t._v("\n              "+t._s(t.timer)+" s\n            ")])],1):t._e(),t._v(" "),t.showSoal?n("section",t._l(t.soals,(function(e,i){return n("div",{key:e._id,staticClass:"soals"},[n("p",{staticStyle:{color:"black"},attrs:{id:"soal_text"},domProps:{innerHTML:t._s(e.soal_text)}}),t._v(" "),e.soal_image?n("b-img",{attrs:{src:t.pathImagesQ+e.soal_image,thumbnail:"",fluid:""}}):t._e(),t._v(" "),[n("ol",{staticClass:"mt-1",attrs:{type:"A"}},t._l(e.jawabans,(function(o){return n("li",{key:o._id},[n("b-button",{staticStyle:{"margin-bottom":"2px"},attrs:{block:"",variant:"outline-secondary"},on:{click:function(n){return t._actionAnswer(e._id,o._id,i)}}},[n("p",{staticStyle:{color:"black","text-align":"left"},domProps:{innerHTML:t._s(o.jawaban_text)}}),t._v(" "),o.jawaban_image?n("b-img",{attrs:{src:t.pathImagesAnswer+o.jawaban_image,thumbnail:"",fluid:""}}):t._e()],1)],1)})),0)]],2)})),0):n("section",{staticClass:"mt-2"},[t.showgreet?t._e():n("h4",{staticClass:"text-center h4"},[t._v("\n              Menunggu Soal\n            ")]),t._v(" "),t.showgreet?n("h2",{staticClass:"h1 text-center",staticStyle:{"font-size":"10em"}},[t._v("\n              "+t._s(t.maxCountdown)+"\n            ")]):t._e()])],1)])])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{staticClass:"h3 text-center"},[this._v("\n          SKOR "),e("br")])}],!1,null,"2de402e2",null);e.default=component.exports}}]);