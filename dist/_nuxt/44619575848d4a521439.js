(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{313:function(t,e,n){t.exports=n.p+"img/1b0cfe0.gif"},316:function(t,e){},317:function(t,e,n){"use strict";var o=n(15),r=n(170)(6),l="findIndex",d=!0;l in[]&&Array(1)[l]((function(){d=!1})),o(o.P+o.F*d,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n(67)(l)},365:function(t,e,n){var content=n(517);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(21).default)("7dfd731a",content,!0,{sourceMap:!1})},516:function(t,e,n){"use strict";var o=n(365);n.n(o).a},517:function(t,e,n){(t.exports=n(20)(!1)).push([t.i,"h2[data-v-7c194693],p[data-v-7c194693]{color:#000}.brand[data-v-7c194693]{height:40px;width:auto}.bd-links[data-v-7c194693]{padding-top:1px;padding-bottom:1rem;margin-right:-15px;margin-left:5px}.flex-container[data-v-7c194693]{padding:0;margin:auto;list-style:none;display:-webkit-box;display:-webkit-flex;float:left;display:flex;justify-content:space-around}.flex-item[data-v-7c194693]{background-color:grey;padding:5px;width:40px;height:40px;margin-top:10px;margin-left:4px;margin-right:1px;line-height:30px;color:#fff;font-weight:700;font-size:20px;-webkit-box-pack:center;justify-content:center;text-align:center;cursor:pointer}.item_active[data-v-7c194693]{background:#557cbe}.sessi-active[data-v-7c194693]{color:#3aa03a}.img-fluid[data-v-7c194693]{max-width:40%}.img-fluid[data-v-7c194693],.img-fluidphoto[data-v-7c194693]{height:auto}.bg-blues[data-v-7c194693]{background-color:#fff;border-bottom:1px solid #bbb}.btn-block[data-v-7c194693]{border-radius:8px}.detail-profile[data-v-7c194693]:hover{background-color:#007bff}.text-dropdown[data-v-7c194693]{color:#fff;margin:10px}.navbar-brand[data-v-7c194693]{width:200px}.content-body[data-v-7c194693]{padding-top:.5rem;margin-top:4rem}.soals[data-v-7c194693]{margin:-5px 20px}.text-timer[data-v-7c194693]{font-size:30px}@media (max-width:767.98px){.text-timer[data-v-7c194693]{font-size:20px}.timer[data-v-7c194693]{margin-left:5px}}@media (max-width:370.98px){.sub-timer[data-v-7c194693]{margin-left:-250px!important}.navbar-brand[data-v-7c194693]{margin-right:0!important}.text-timer[data-v-7c194693]{font-size:16px}}@media (max-width:454.98px){.sub-timer[data-v-7c194693]{margin-left:-300px}.navbar-brand[data-v-7c194693]{margin-right:0!important}}@media (max-width:575.98px){.sub-timer[data-v-7c194693]{margin-left:-340px}.navbar-brand[data-v-7c194693]{margin-right:0!important}}@media (min-width:768px){.flex-item[data-v-7c194693]{margin-left:2px}}",""])},623:function(t,e,n){"use strict";n.r(e);n(317),n(31);var o=n(8),r=n(119),l=n.n(r),d=n(50),c=n.n(d),m=n(315),h=n.n(m),f=n(42);o.default.use(l.a);var v={name:"StartUjianMandiri",layout:function(t){return"defaults"},data:function(){return{ujian:{},loadingSoal:!0,loadingstopujian:!1,soals:[],currentAnswer:null,current_soal:null,UserHasLogin:!1,ujian_id:null,sesiId:null,nextid:null,countDowntime:null,timer:0,countDown:null,showProgresstime:!1,max:0,timesisOver:!1,showButtonFinish:!1,pathImages:"https://storage.googleapis.com/edutore-cdn/public/module/thumb/",pathImagesQ:"https://storage.googleapis.com/edutore-cdn/public/soal/question/",pathImagesAnswer:"https://storage.googleapis.com/edutore-cdn/public/soal/answer_choice/",title:"Tryout Edutore",token:null,user:null,photo:null,loadingjawab:!1,showtimer:!0,realtimeserver:null,semuadijawab:!1,expire:!1,modalShow:!1,sesi_ujian:[],jadwalsesi:{},next_sesi_id:null,next_sesi_name:null,button_waiting:!1,FormJawab:null,type_ujian:""}},head:function(){return{title:this.title,meta:[{hid:"description",name:"description",content:"tryout Edutore"}]}},mounted:function(){var t=this;history.pushState(null,null,location.href),window.onpopstate=function(){t._actionModalOut(),history.go(1)},f.a.auth().onAuthStateChanged((function(e){if(e)t.user=e.displayName,t.photo=e.photoURL,e.getIdToken(!0).then((function(e){t.token=e,t.UserHasLogin=!0;var n=t.$route.params.id,o=t.$route.query.sesi_ujian;t.ujian_id=n,t.sesiId=o,t.actionGetDaftarSesiUjian(n),t.$store.commit("auth/updateToken",e)}));else{var n=t.$route.query.sesi_ujian;t.$router.push({path:"/login",query:{ujian_id:t.$route.query._id,sesi_id:n,ref:t.$route.fullPath}})}})),clearInterval(this.realtimeserver)},methods:{_actionGetRealtimeCurrenttimeServer:function(){h()("https://api-tryout.edutore.net",{transports:["websocket","polling"]}).on("show_timer",function(data){data&&(this.realtimeserver=data)}.bind(this))},actionGetDaftarSesiUjian:function(t){var e=this;return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,regeneratorRuntime.awrap(this.$axios.get("jadwal-sesi-ujian/"+t,{headers:{"x-access-token":this.token}}).then((function(t){var n=t.data.data.schedule;e.jadwalsesi=t.data.data,n.sort((function(a,b){return a.position>b.position?1:b.position>a.position?-1:0})),e.sesi_ujian=n,e._actionGetQuestion(e.ujian_id,e.sesiId),e._actionGetRealtimeCurrenttimeServer()})).catch((function(t){console.log(t),e.$swal({icon:"error",title:"Oops...",text:"Jadwal Ujian tidak di temukan",footer:'<a href="/why/jadwal-notfound">Mengapa ini terjadi?</a>'})})));case 2:case"end":return n.stop()}}),null,this)},_actionGetQuestion:function(t,e){var n=this,data={ujian_id:t,sesi_id:e};this.$axios.post("soal-ujian-mandiri",data,{headers:{"x-access-token":this.token}}).then((function(t){if("true"===t.data.success)if(n.loadingSoal=!1,t.data.soals){var e=t.data.ujian,o=t.data.start.createdAt;n.ujian=e,n.title=e.judul_ujian;var r=c()().format("YYYY-MM-DD HH:mm"),l=0;n.sesi_ujian.forEach((function(element){element.sesi_id===n.sesiId&&(l=element.duration,console.log("ada id yang sama ="+JSON.stringify(element)))}));var d=c()(o).add(l,"m"),m=c()(d).format("YYYY-MM-DD HH:mm");if(c()(d).isBefore(r))console.log("Waktu Sesi Yang Di request Sudah Habis"),n.$notify({group:"foo",type:"error",text:"Waktu Sudah Habis"}),n.expire=!0,n.checkSesiUjian();else{n.soals=t.data.soals.soals,n.ujian_id=t.data.ujian._id;var h=n.soals.every((function(t){return t.answered}));console.log("Soal Di jawab ? => "+h);var f=n.sesi_ujian;if(h){var v=f,_=v.length-1,w=v.findIndex((function(t){return t.sesi_id===n.sesiId}));if(console.log("Semua di jawab n ada Jumlah Sesi "+_),w===_)console.log("tidak ada sesi lanjutan"),n.showButtonFinish=h,n.current_soal=null,n.semuadijawab=!0;else{console.log(" sesi sekarang di position "+w);var x=w+1;console.log("ada sesi berikut nya "+x);var j=v[x];console.log("ada sesi berikut nya "+JSON.stringify(j)),n.next_sesi_id=j.sesi_id,n.button_waiting=!0,n.current_soal=null}}else{n.current_soal=n.soals[0]._id;for(var y=t.data.soals.soals,k=0;k<y.length;k++)if(!y[k].answered){n.current_soal=y[k]._id,console.log("Soal false => "+y[k]._id);break}n._counterTimes(m)}}}else n.$swal({icon:"error",title:"Oops...",text:"Belum ada Soal di Sesi Ujian ini",footer:"<a href>Mengapa ini terjadi?</a>"})})).catch((function(t){var e=t.response;n.loadingSoal=!1,e&&("stoped"===e.data?(n.$swal({icon:"error",title:"Oops...",text:"Sepertinya ada yang Salah",footer:'<a href="/"> Mengapa Masalah ini terjadi ?</a>'}),setTimeout((function(){n._actionEndUjian()}),1500)):404===t.response.status?n.$swal({icon:"error",title:"Oops...",text:"Kami Kesulitan Menemukan Ujian ini",footer:'<a href="/ujian"> Mengapa Masalah ini terjadi ?</a>'}):n.$swal({icon:"error",title:"Oops...",text:"Sepertinya ada yang Salah",footer:'<a href="/"> Mengapa Masalah ini terjadi ?</a>'}))}))},_actionAnswerEsay:function(t,e){var n=this.soals.length,o=parseInt(n)-1;this._actionStoreAnswer(t,this.FormJawab,e,o)},_actionAnswer:function(t,e,n){var o=this.soals.length,r=parseInt(o)-1;this._actionStoreAnswer(t,e,n,r)},_actionStoreAnswer:function(t,e,n,o){var r=this;this.loadingjawab=!0;var data={id:this.ujian_id,soal_id:t,jawaban_id:e,jawaban_text:e,sesi_id:this.sesiId};this.$axios.post("jawab-soal-ujian/sesi-ujian/"+this.ujian_id,data,{headers:{"x-access-token":this.token}}).then((function(e){if("true"===e.data.success)if(document.getElementById(t).className+=" item_active",r.FormJawab=null,n===o)r.current_soal=null,r.semuadijawab=!0,r.checkSesiUjian();else{n+=1;var l=r.soals[n]._id;r._moveNumber(l)}r.loadingjawab=!1})).catch((function(e){if(r.loadingjawab=!1,document.getElementById(t).className+=" item_active",n===o)r.current_soal=null,r.semuadijawab=!0,r.showButtonFinish=!0;else{n+=1;var l=r.soals[n]._id;r._moveNumber(l)}var d=e.response.data;r.$notify({group:"foo",type:"warn",text:d?d.message:d})}))},_moveNumber:function(t){this.current_soal=t},_actionEndUjian:function(){var t=this;clearInterval(this.countDowntime),this.loadingstopujian=!0;var data={ujian_id:this.ujian_id,sesi_id:this.sesiId};this.$axios.post("stop-ujian",data,{headers:{"x-access-token":this.token}}).then((function(e){t.loadingstopujian=!1,t.$router.push({path:"/start-ujian/mandiri/finish",query:{ujian_id:t.ujian_id,judul_ujian:t.title}})})).catch((function(e){t.loadingstopujian=!1,console.log(e)}))},_nextSesiUjian:function(){clearInterval(this.countDowntime),this.ujian.is_private?this.$router.push({path:"/start-ujian/mandiri/access-pin/"+this.ujian_id,query:{_id:this.ujian._id,type:this.ujian.type_ujian,sesi_ujian:this.sesiId,slug:this.ujian.ujian_slug}}):this.$router.push({path:"/start-ujian/mandiri/"+this.ujian._id,query:{type:this.type_ujian,_id:this.ujian_id,sesi_ujian:this.sesiId,name:this.ujian.slug_ujian}})},_counterTimes:function(t){var e=this;clearInterval(this.countDowntime),this.countDowntime=setInterval((function(){var n=c()(t)-c()(e.realtimeserver);console.log("ini perhitungan "+t+"-"+e.realtimeserver);var o=Math.floor(n/864e5),r=Math.floor(n%864e5/36e5),l=Math.floor(n%36e5/6e4),d=Math.floor(n%6e4/1e3);r>0&&(document.getElementById("hour").innerHTML=r+" Jam :"),document.getElementById("minute").innerHTML=l>0?l+" Menit :":null,o>0&&(document.getElementById("days").innerHTML=o+" Hari "),document.getElementById("second").innerHTML=d+" Detik";var m=e;r<0&&l<0&&d<0&&(clearInterval(e.countDowntime),m.showtimer=!1,e.$notify({group:"foo",type:"error",text:"Waktu Sudah Habis"}),e.current_soal=null,m.checkSesiUjian())}),1e3)},_actionModalOut:function(){this.modalShow=!0},_actionLogout:function(){this.$router.push({path:"/"}),this.modalShow=!1},checkSesiUjian:function(){var t=this,e=this.sesi_ujian,n=e.length-1,o=e.findIndex((function(e){return e.sesi_id===t.sesiId}));if(o===n)console.log("tidak ada sesi lanjutan"),this.showButtonFinish=!0,this.$notify({group:"foo",type:"error",text:"Tidak Ada Sesi lanjutan"});else{console.log(" sesi sekarang di position "+o);var r=o+1;console.log("ada sesi berikut nya "+r);var l=e[r];console.log("ada sesi berikut nya "+JSON.stringify(l)),this.next_sesi_id=l.sesi_id,this.button_waiting=!0}clearInterval(this.realtimeserver)}}},_=(n(516),n(19)),component=Object(_.a)(v,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("b-modal",{attrs:{size:"md",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default"},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-12 justify-content-center"},[o("h3",{staticClass:"text-center"},[t._v("\n          Apakah anda yakin mau keluar dari Ujian ?\n        ")])]),t._v(" "),o("div",{staticClass:"row"},[o("div",{staticClass:"col md-6"},[o("button",{staticClass:"btn btn-warning btn-lg btn-block",staticStyle:{width:"120px"},on:{click:function(e){t.modalShow=!1}}},[t._v("\n            Tidak\n          ")])]),t._v(" "),o("div",{staticClass:"col md-6"},[o("button",{staticClass:"btn btn-primary btn-lg btn-block",staticStyle:{width:"120px"},on:{click:t._actionLogout}},[t._v("\n            Ya\n          ")])])])])]),t._v(" "),o("div",{staticClass:"row"},[o("b-modal",{attrs:{size:"sm",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default",title:"Megirim Jawaban"},model:{value:t.loadingjawab,callback:function(e){t.loadingjawab=e},expression:"loadingjawab"}},[o("h2",{staticClass:"h5 text-center"},[t._v("\n        Mengirim Jawaban\n      ")]),t._v(" "),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center"},[o("img",{staticClass:"img-fluid",staticStyle:{width:"100px"},attrs:{src:n(313),alt:"~/assets/img/edu-wink.gif"}})])]),t._v(" "),o("p",{staticClass:"text-center mt-2"},[t._v("\n        Loading...\n      ")])]),t._v(" "),o("b-modal",{attrs:{size:"sm",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default",title:"Mengakhiri Ujian"},model:{value:t.loadingstopujian,callback:function(e){t.loadingstopujian=e},expression:"loadingstopujian"}},[o("h2",{staticClass:"h5 text-center"},[t._v("\n        Mengakhiri Ujian\n      ")]),t._v(" "),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center"},[o("img",{staticClass:"img-fluid",staticStyle:{width:"100px"},attrs:{src:n(313),alt:"~/assets/img/edu-wink.gif"}})])]),t._v(" "),o("p",{staticClass:"text-center mt-2"},[t._v("\n        Loading...\n      ")])])],1),t._v(" "),o("nav",{staticClass:"navbar navbar-expand-sm navbar-light bg-blues is-desktop fixed-top"},[o("div",{staticClass:"align-items-end"},[o("a",{staticClass:"navbar-brand",on:{click:t._actionModalOut}},[o("img",{staticClass:"img-fluid",attrs:{src:n(57),alt:"~/assets/img/edutore.png"}})])]),t._v(" "),o("div",{staticClass:"row justify-content-center timer"},[t.showtimer?o("div",{staticClass:"text-center sub-timer"},[o("span",{staticClass:"days text-timer",attrs:{id:"days"}}),t._v(" "),o("span",{staticClass:"hours text-timer",attrs:{id:"hour"}}),t._v(" "),o("span",{staticClass:"minutes text-timer",attrs:{id:"minute"}}),t._v(" "),o("span",{staticClass:"seconds text-timer",attrs:{id:"second"}})]):t._e()])]),t._v(" "),t.loadingSoal?o("div",{staticClass:"container-fluid"},[o("div",{staticClass:"row"},[o("b-modal",{attrs:{size:"sm",centered:"","hide-footer":"","hide-header":"","body-bg-variant":"default",title:"Mengambil Soal"},model:{value:t.loadingSoal,callback:function(e){t.loadingSoal=e},expression:"loadingSoal"}},[o("h2",{staticClass:"h5 text-center"},[t._v("\n          Mengambil Soal\n        ")]),t._v(" "),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"d-flex justify-content-center"},[o("img",{staticClass:"img-fluid",staticStyle:{width:"100px"},attrs:{src:n(313),alt:"~/assets/img/edu-wink.gif"}})])]),t._v(" "),o("p",{staticClass:"text-center mt-2"},[t._v("\n          Loading...\n        ")])])],1)]):o("div",{staticClass:"content-body"},[o("div",{staticClass:"row flex-xl-nowrap2"},[o("div",{staticClass:"bd-sidebar border-bottom-0 col-md-3 col-xl-2 col-12"},[o("nav",{staticClass:"bd-links d-none d-md-block text-center",attrs:{id:"bd-docs-nav","aria-label":"Main navigation"}},[o("div",{staticClass:"mt-0"},[t.photo?o("div",{staticStyle:{width:"70%",height:"auto","margin-left":"auto","margin-right":"auto","margin-top":"5px"}},[o("b-img",{attrs:{src:t.photo,alt:t.user,thumbnail:"",fluidphoto:""}})],1):o("div",{staticStyle:{width:"70%",height:"auto","margin-left":"auto","margin-right":"auto","margin-top":"5px"}},[o("b-img",{attrs:{alt:t.user,src:n(313),thumbnail:"",fluidphoto:""}})],1)]),t._v(" "),o("div",{attrs:{target:"_self"}},[o("a",{staticClass:"bd-toc-link",attrs:{href:"/",target:"_self"}},[t._v(t._s(t.user))]),t._v(" "),t._l(t.soals,(function(e,n){return o("ul",{key:e._id,staticClass:"flex-container justify-content-center"},[o("li",{staticClass:"flex-item",class:[e.answered?"item_active":""],attrs:{id:e._id}},[t._v("\n                "+t._s(++n)+"\n              ")])])}))],2)])]),t._v(" "),o("div",{staticClass:"bd-content col-md-9 col-xl-8 col-12 pb-md-3 pl-md-5"},[o("div",{staticClass:"clearfix d-block"}),t._v(" "),o("main",{staticClass:"bd-main pt-2",attrs:{id:"soals"}},t._l(t.soals,(function(e,i){return o("section",{key:e._id,staticClass:"soals"},[o("transition",{attrs:{"enter-active-class":"animated fadeInUp"}},[t.current_soal===e._id?o("div",[e.answered?o("div",[t._v("\n                  Sudah di jawab\n                ")]):t._e(),t._v(" "),o("p",{staticStyle:{color:"black"},domProps:{innerHTML:t._s(e.soal_text)}}),t._v(" "),e.soal_image?o("b-img",{attrs:{src:t.pathImagesQ+e.soal_image,thumbnail:"",fluid:""}}):t._e(),t._v(" "),"PG"===e.type_soal?[o("ol",{staticClass:"mt-1",attrs:{type:"A"}},t._l(e.jawabans,(function(n){return o("li",{key:n._id},[t.currentAnswer===e._id?o("b-button",{staticClass:"active",staticStyle:{"margin-bottom":"2px"},attrs:{variant:"outline-secondary",disabled:""}},[o("p",{staticStyle:{color:"black","text-align":"left"},domProps:{innerHTML:t._s(n.jawaban_text)}}),t._v(" "),n.jawaban_image?o("b-img",{attrs:{src:t.pathImagesAnswer+n.jawaban_image,thumbnail:"",fluid:""}}):t._e()],1):o("b-button",{staticStyle:{"margin-bottom":"2px"},attrs:{variant:"outline-secondary"},on:{click:function(o){return t._actionAnswer(e._id,n._id,i)}}},[o("p",{staticStyle:{color:"black","text-align":"left","align-content":"center"},domProps:{innerHTML:t._s(n.jawaban_text)}}),t._v(" "),n.jawaban_image?o("b-img",{attrs:{src:t.pathImagesAnswer+n.jawaban_image,thumbnail:"",fluid:""}}):t._e()],1)],1)})),0)]:[o("div",{staticClass:"mt-1"},[o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.FormJawab,expression:"FormJawab"}],staticClass:"form-control",attrs:{cols:"20",rows:"5"},domProps:{value:t.FormJawab},on:{input:function(e){e.target.composing||(t.FormJawab=e.target.value)}}}),t._v(" "),o("div",{staticClass:"row justify-content-center mt-1 pt-1"},[o("div",{staticClass:"col-md-3"},[o("button",{staticClass:"btn btn-block btn-primary",on:{click:function(n){return t._actionAnswerEsay(e._id,i)}}},[t._v("\n                          Jawab\n                        ")])])])])]],2):t._e()])],1)})),0),t._v(" "),t.semuadijawab?o("div",[o("h3",{staticClass:"h3 text-center"},[t._v("\n            Semua Soal Sudah Di Jawab\n          ")])]):t._e(),t._v(" "),t.expire?o("div",[o("h4",{staticClass:"h4 text-center"},[t._v("\n            Waktu Sudah Habis\n          ")])]):t._e(),t._v(" "),o("div",{staticClass:"row justify-content-center"},[o("div",{staticClass:"col-md-auto"},[t.showButtonFinish?o("b-button",{attrs:{variant:"primary",pill:"",block:""},on:{click:t._actionEndUjian}},[o("i",{staticClass:"fa fa-flag"}),t._v(" Akhiri\n            ")]):t._e(),t._v(" "),t.button_waiting?o("b-button",{attrs:{variant:"primary",pill:"",block:""},on:{click:t._nextSesiUjian}},[o("i",{staticClass:"fa fa-flag"}),t._v("  lanjut Ke sesi berikutnya\n            ")]):t._e()],1)])])])])],1)}),[],!1,null,"7c194693",null);e.default=component.exports}}]);